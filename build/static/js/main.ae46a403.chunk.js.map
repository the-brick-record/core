{"version":3,"sources":["pages/containers/components/Suggestions.js","pages/containers/Search.js","pages/HomePage.js","pages/UserPage.js","pages/testing.js","index.js","App.js"],"names":["Suggestions","props","options","results","map","r","react_default","a","createElement","key","id","react_router_dom","to","concat","house_number","street_name","postcode","API_URL","Search","state","error","query","getInfo","axios","get","_this","then","_ref","data","setState","catch","handleInputChange","search","value","length","document","getElementById","style","display","handleInputBlur","setTimeout","$","hide","handleInputFocus","show","_this2","this","placeholder","ref","input","onChange","onBlur","onFocus","components_Suggestions","Component","Div","styled","div","_templateObject","App","containers_Search","UserPage","_useState","useState","user","loading","_useState2","Object","slicedToArray","setUser","useEffect","asyncToGenerator","regenerator_default","mark","_callee","_ref2","wrap","_context","prev","next","match","params","sent","stop","apply","arguments","getUser","className","created_on","testing_templateObject","testing_Div","render","react_router","exact","path","component","HomePage","testing","querySelector"],"mappings":"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","file":"static/js/main.ae46a403.chunk.js","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\n\n\n\nconst Suggestions = (props) => {\n  const options = props.results.map(r => (\n    <li key={r.id}>\n      <Link to={`${r.id}`}>\n      <span>{r.house_number}</span>,\n      <span> {r.street_name}</span>,\n      <span> {r.postcode}</span>.\n      <p>The ID for this property is: {r.id}</p>\n      </Link>\n    </li>\n  ))\n\n   return <ul id=\"element\">{options}</ul>\n}\n\n\n\nexport default Suggestions\n","import React, { Component } from 'react'\nimport axios from 'axios'\nimport $ from 'jquery'; \n\nimport Suggestions from './components/Suggestions'\n\nconst API_URL = 'https://api.redonemedia.co.uk/_/items/property'\n\nclass Search extends Component {\n  state = {\n    error: false,\n    query: '',\n    results: []\n  }\n\n  getInfo = () => {\n    axios.get(`${API_URL}?q=${this.state.query}`)\n      .then(({ data }) => {\n        this.setState({\n          results: data.data\n        })\n      })\n      .catch(() => this.setState({ error: true }))\n  }\n\n  handleInputChange = () => {\n    this.setState({\n      query: this.search.value\n    }, () => {\n      if (this.state.query && this.state.query.length > 1) {\n        // this.showDropdown()\n        if (this.state.query.length % 2 === 0) {\n          this.getInfo()\n          document.getElementById(\"element\").style.display = \"block\";\n        }\n        } else if (!this.state.query && this.state.query.length < 1) {\n          // this.hideDropdown()\n          document.getElementById(\"element\").style.display = \"none\";\n        }\n    })\n  }\n\n  // When the search field loses focus, hide the popover\n  handleInputBlur = () => {\n    // Prevent the blur event firing before the click has started\n    /*\n    $('input').on('focus', function() {\n      $('#element').show();\n    }).on('blur', function() {\n      $('#element').hide();\n    });\n    \n    $('#element').on('mousedown', function(event) {\n        event.preventDefault();\n    }).on('click', 'li', function() {\n        $('input').val(this.textContent).blur();\n    });*/\n    setTimeout(\n      function() \n      {\n        $('#element').hide();\n      }, 200);\n\n      \n\n  }\n\n  // When the input field is focussed, show the popover\n  handleInputFocus = () => {\n    //document.getElementById(\"element\").style.display = \"block\";\n    $('#element').show();\n  }\n\n  render() {\n    return (\n      <form>\n        <input\n          id=\"searchInput\"\n          placeholder=\"Search for an address...\"\n          ref={input => this.search = input}\n          onChange={this.handleInputChange}\n          onBlur={this.handleInputBlur}\n          onFocus={this.handleInputFocus}\n        />\n        <Suggestions results={this.state.results} />\n      </form>\n\n    )\n  }\n}\n\nexport default Search\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport Search from './containers/Search'\nimport './Style.css';\n\nconst App = () => (\n  <Div>\n    <p>The Brick Record</p>\n    <Search />\n  </Div>\n)\n\nconst Div = styled.div`\n  padding: 2rem;\n`\nexport default App\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\nexport default function UserPage(props) {\n  const initialUserState = {\n    user: {},\n    loading: true,\n  }\n\n  const [user, setUser] = useState(initialUserState)\n\n  useEffect(() => {\n    const getUser = async () => {\n      //const { data } = await axios(`https://api.github.com/users/${props.match.params.id}`)\n      const { data } = await axios(`https://api.redonemedia.co.uk/_/items/property?filter[id]=${props.match.params.id}`)\n\n      setUser(data)\n    }\n\n    getUser()\n  }, [])\n\n  return user.loading ? (\n    <div>Loading...</div>\n  ) : (\n    <div className=\"container\">\n    <Link to=\"/\">Back to main listing</Link>\n      <h1>{user.data[0].house_number}, {user.data[0].street_name}, {user.data[0].postcode}</h1>\n\n      <table>\n        <thead>\n          <tr>\n            <th>Property name</th>\n            <th>Postcode</th>\n            <th>Date added</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>{user.data[0].house_number}</td>\n            <td>{user.data[0].postcode}</td>\n            <td>{user.data[0].created_on}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport Search from './containers/Search'\nimport './Style.css';\n\nconst App = () => (\n  <Div>\n    <Search />\n  </Div>\n)\n\nconst Div = styled.div`\n  padding: 2rem;\n`\nexport default App\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App'\n\nrender(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.querySelector('#root')\n)\n","import React from 'react'\nimport { Route, Switch } from 'react-router-dom'\nimport HomePage from './pages/HomePage'\nimport UserPage from './pages/UserPage'\nimport testing from './pages/testing'\n\n\n\nexport default function App() {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={HomePage} />\n      <Route path=\"/testing\" component={testing} />\n      <Route path=\"/:id\" component={UserPage} />\n    </Switch>\n  )\n}\n"],"sourceRoot":""}