{"ast":null,"code":"var _jsxFileName = \"/Users/development/Desktop/brick-record-github/core/src/pages/containers/Search.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport Suggestions from './components/Suggestions';\nconst API_URL = 'https://api.redonemedia.co.uk/_/items/property';\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      error: false,\n      query: '',\n      results: []\n    };\n\n    this.getInfo = () => {\n      axios.get(\"\".concat(API_URL, \"?q=\").concat(this.state.query)).then(({\n        data\n      }) => {\n        this.setState({\n          results: data.data\n        });\n      }).catch(() => this.setState({\n        error: true\n      }));\n    };\n\n    this.handleInputChange = () => {\n      this.setState({\n        query: this.search.value\n      }, () => {\n        if (this.state.query && this.state.query.length > 1) {\n          // this.showDropdown()\n          if (this.state.query.length % 2 === 0) {\n            this.getInfo();\n            document.getElementById(\"element\").style.display = \"block\";\n          }\n        } else if (!this.state.query && this.state.query.length < 1) {\n          // this.hideDropdown()\n          document.getElementById(\"element\").style.display = \"none\";\n        }\n      });\n    };\n\n    this.handleInputBlur = () => {\n      // Prevent the blur event firing before the click has started\n      $('input').on('focus', function () {\n        $('#element').show();\n      }).on('blur', function () {\n        $('#element').hide();\n      });\n      $('#element').on('mousedown', function (event) {\n        event.preventDefault();\n      }).on('click', 'li', function () {\n        $('input').val(this.textContent).blur();\n      });\n    };\n\n    this.handleInputFocus = () => {\n      document.getElementById(\"element\").style.display = \"block\";\n    };\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"searchInput\",\n      placeholder: \"Search for...\",\n      ref: input => this.search = input,\n      onChange: this.handleInputChange,\n      onBlur: this.handleInputBlur,\n      onFocus: this.handleInputFocus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(Suggestions, {\n      results: this.state.results,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/development/Desktop/brick-record-github/core/src/pages/containers/Search.js"],"names":["React","Component","axios","$","Suggestions","API_URL","Search","state","error","query","results","getInfo","get","then","data","setState","catch","handleInputChange","search","value","length","document","getElementById","style","display","handleInputBlur","on","show","hide","event","preventDefault","val","textContent","blur","handleInputFocus","render","input"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport $ from 'jquery'; \n\nimport Suggestions from './components/Suggestions'\n\nconst API_URL = 'https://api.redonemedia.co.uk/_/items/property'\n\nclass Search extends Component {\n  state = {\n    error: false,\n    query: '',\n    results: []\n  }\n\n  getInfo = () => {\n    axios.get(`${API_URL}?q=${this.state.query}`)\n      .then(({ data }) => {\n        this.setState({\n          results: data.data\n        })\n      })\n      .catch(() => this.setState({ error: true }))\n  }\n\n  handleInputChange = () => {\n    this.setState({\n      query: this.search.value\n    }, () => {\n      if (this.state.query && this.state.query.length > 1) {\n        // this.showDropdown()\n        if (this.state.query.length % 2 === 0) {\n          this.getInfo()\n          document.getElementById(\"element\").style.display = \"block\";\n        }\n        } else if (!this.state.query && this.state.query.length < 1) {\n          // this.hideDropdown()\n          document.getElementById(\"element\").style.display = \"none\";\n        }\n    })\n  }\n\n  // When the search field loses focus, hide the popover\n  handleInputBlur = () => {\n    // Prevent the blur event firing before the click has started\n    $('input').on('focus', function() {\n      $('#element').show();\n    }).on('blur', function() {\n      $('#element').hide();\n    });\n  \n    $('#element').on('mousedown', function(event) {\n        event.preventDefault();\n    }).on('click', 'li', function() {\n        $('input').val(this.textContent).blur();\n    });\n\n  }\n\n  // When the input field is focussed, show the popover\n  handleInputFocus = () => {\n    document.getElementById(\"element\").style.display = \"block\";\n  }\n\n  render() {\n    return (\n      <form>\n        <input\n          id=\"searchInput\"\n          placeholder=\"Search for...\"\n          ref={input => this.search = input}\n          onChange={this.handleInputChange}\n          onBlur={this.handleInputBlur}\n          onFocus={this.handleInputFocus}\n        />\n        <Suggestions results={this.state.results} />\n      </form>\n\n    )\n  }\n}\n\nexport default Search\n"]},"metadata":{},"sourceType":"module"}