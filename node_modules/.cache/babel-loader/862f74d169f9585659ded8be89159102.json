{"ast":null,"code":"var _jsxFileName = \"/Users/development/Desktop/brick-record-github/core/src/pages/containers/Search.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Suggestions from './components/Suggestions';\nconst API_URL = 'https://api.redonemedia.co.uk/_/items/property';\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      error: false,\n      query: '',\n      results: []\n    };\n\n    this.getInfo = () => {\n      axios.get(\"\".concat(API_URL, \"?q=\").concat(this.state.query)).then(({\n        data\n      }) => {\n        this.setState({\n          results: data.data\n        });\n      }).catch(() => this.setState({\n        error: true\n      }));\n    };\n\n    this.handleInputChange = () => {\n      this.setState({\n        query: this.search.value\n      }, () => {\n        if (this.state.query && this.state.query.length > 1) {\n          // this.showDropdown()\n          if (this.state.query.length % 2 === 0) {\n            this.getInfo();\n            document.getElementById(\"element\").style.display = \"block\";\n          }\n        } else if (!this.state.query && this.state.query.length < 1) {\n          // this.hideDropdown()\n          document.getElementById(\"element\").style.display = \"none\";\n        }\n      });\n    };\n\n    this.handleInputBlur = () => {\n      var click_in_process = false; // global\n\n      '#element'.mousedown(function () {\n        click_in_process = true;\n      });\n      '#element'.mouseup(function () {\n        click_in_process = false;\n        '#searchInput'.focus(); // a code of $('#myList') clicking event, for example:\n\n        '#searchInput'.val('');\n      });\n      '#searchInput'.blur(function () {\n        if (!click_in_process) {\n          '#myList'.hide(); // a code of what you want to happen after you really left  $('#myInput')\n        }\n      });\n      '#myInput'.focus(function () {\n        '#myList'.show();\n      });\n    };\n\n    this.handleInputFocus = () => {\n      document.getElementById(\"element\").style.display = \"block\";\n    };\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"searchInput\",\n      placeholder: \"Search for...\",\n      ref: input => this.search = input,\n      onChange: this.handleInputChange //onBlur={this.handleInputBlur}\n      ,\n      onFocus: this.handleInputFocus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(Suggestions, {\n      results: this.state.results,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/development/Desktop/brick-record-github/core/src/pages/containers/Search.js"],"names":["React","Component","axios","Suggestions","API_URL","Search","state","error","query","results","getInfo","get","then","data","setState","catch","handleInputChange","search","value","length","document","getElementById","style","display","handleInputBlur","click_in_process","mousedown","mouseup","focus","val","blur","hide","show","handleInputFocus","render","input"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\n\nimport Suggestions from './components/Suggestions'\n\nconst API_URL = 'https://api.redonemedia.co.uk/_/items/property'\n\nclass Search extends Component {\n  state = {\n    error: false,\n    query: '',\n    results: []\n  }\n\n  getInfo = () => {\n    axios.get(`${API_URL}?q=${this.state.query}`)\n      .then(({ data }) => {\n        this.setState({\n          results: data.data\n        })\n      })\n      .catch(() => this.setState({ error: true }))\n  }\n\n  handleInputChange = () => {\n    this.setState({\n      query: this.search.value\n    }, () => {\n      if (this.state.query && this.state.query.length > 1) {\n        // this.showDropdown()\n        if (this.state.query.length % 2 === 0) {\n          this.getInfo()\n          document.getElementById(\"element\").style.display = \"block\";\n        }\n        } else if (!this.state.query && this.state.query.length < 1) {\n          // this.hideDropdown()\n          document.getElementById(\"element\").style.display = \"none\";\n        }\n    })\n  }\n\n  // When the search field loses focus, hide the popover\n  handleInputBlur = () => {\n    \n    var click_in_process = false; // global\n\n    ('#element').mousedown(function() {\n        click_in_process = true;\n    });\n\n    ('#element').mouseup(function() {\n        click_in_process = false;\n        ('#searchInput').focus();\n        \n        // a code of $('#myList') clicking event, for example:\n        ('#searchInput').val('');\n    });\n    \n    ('#searchInput').blur(function() {\n        if(!click_in_process) {\n            ('#myList').hide();\n            // a code of what you want to happen after you really left  $('#myInput')\n\n        }\n    });\n\n    ('#myInput').focus(function() {\n        ('#myList').show();\n    });\n\n\n  }\n\n  // When the input field is focussed, show the popover\n  handleInputFocus = () => {\n    document.getElementById(\"element\").style.display = \"block\";\n  }\n\n  render() {\n    return (\n      <form>\n        <input\n          id=\"searchInput\"\n          placeholder=\"Search for...\"\n          ref={input => this.search = input}\n          onChange={this.handleInputChange}\n          //onBlur={this.handleInputBlur}\n          onFocus={this.handleInputFocus}\n        />\n        <Suggestions results={this.state.results} />\n      </form>\n\n    )\n  }\n}\n\nexport default Search\n"]},"metadata":{},"sourceType":"module"}